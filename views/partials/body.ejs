<!-- <script src="/public/js/panier.js"></script> -->

<div class="corps">
    <div>
        <h1><%= type_vet %></h1>
    </div>
    <div class="grid">
        <% 
            const vetements = items;
            var numItemsPerRow = 5;
            var numRows = Math.ceil(vetements.length / numItemsPerRow);

            for (var i = 0; i < numItemsPerRow; i++) { %>  <!-- On boucle d'abord sur le nombre d'éléments par ligne -->
                <div class="grid-row"> <!-- Puis on boucle sur le nombre de lignes -->
                <%
                    for (var j = 0; j < numRows; j++) {
                        var index = j * numItemsPerRow + i;
                        if (index < vetements.length) { %>
                            <div class="grid-item">
                                <img src="/public<%= vetements[index].chemin %>">
                                <div>Nom : <%= vetements[index].nom %></div>
                                <div>Taille : <%= vetements[index].taille %></div>
                                <div>Quantité : <%= vetements[index].stock %></div>
                                <div>Prix : <%= vetements[index].prix %> €</div>
                        <%
                            if(vetements[index].stock > 0) { %>
                                <form action="#" method="POST">
                                    <input type="hidden" name="vetement_id" value="<%= vetements[index].id %>">
                                    <button type="submit">Ajouté au panier</button>
                                </form>
                        <%
                            }
                        %>                      
                        </div>
                    <%
                        }
                    %>
                <%
                    }
                %>
                </div>
        <%
            }
        %>
    </div>
</div>